# 直流电机PID速度控制

这是一个基于 ESP32 的直流电机 PID 速度控制项目。本代码实现了增量式 PI 算法，用于精确控制电机的转速，并能通过串口动态调整目标转速。

## 主要功能

* **闭环速度控制**：使用增量式 PI 算法，实现电机的精确速度调节。
* **编码器反馈**：通过 AB 相编码器获取电机转速，作为 PID 算法的反馈。
* **动态调整**：支持通过串口输入目标转速，实时改变电机运行状态。
* **速度斜坡**：采用斜坡函数平滑地增加或减小目标转速，防止电机突变。
* **死区补偿**：包含 PWM 死区补偿，确保电机能从低速稳定启动。

## 硬件要求

* **主控板**：ESP32 开发板
* **电机驱动**：TB6612FNG 或其他 H 桥电机驱动模块
* **直流电机**：带 AB 相编码器 13线
* **电源**：根据电机额定电压选择合适的直流电源

## 软件和库

* Arduino IDE
* 本仓库中包含的 `DCMotor.h/.cpp` 和 `Encoder.h/.cpp` 类库

## 使用方法

1.  将本项目克隆或下载到本地。
2.  在 Arduino IDE 中打开项目。
3.  根据你的硬件连接，修改 `main.cpp` 中的引脚定义和物理参数（例如减速比、车轮直径等）。
4.  根据电机特性，重新整定 `main.cpp` 中的 `Kp` 和 `Ki` 参数。
5.  编译并上传代码到 ESP32。
6.  打开串口监视器，可以实时查看电机转速和 PWM 输出，并输入目标转速来控制电机。

## 贡献

欢迎任何形式的贡献，包括功能建议、Bug 报告或代码优化。
